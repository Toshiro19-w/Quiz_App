# CreateFlashcardControl - T?o b? Flashcard m?i

## T?ng quan
CreateFlashcardControl là m?t UserControl cho phép ng??i dùng t?o b? flashcard m?i v?i giao di?n thân thi?n và d? s? d?ng.

## Tính n?ng chính

### 1. Thông tin b? Flashcard
- **Tiêu ??** (*): Tên c?a b? flashcard
- **Mô t?**: Mô t? ng?n g?n v? n?i dung
- **Ch? ?? hi?n th?** (*): Public ho?c Private
- **Ngôn ng?**: Ngôn ng? c?a b? flashcard

### 2. Qu?n lý các th? Flashcard
- Thêm/xóa các th? flashcard
- M?i th? bao g?m:
  - **M?t tr??c** (*): Câu h?i ho?c t? v?ng
  - **M?t sau** (*): Câu tr? l?i ho?c ngh?a
  - **G?i ý**: G?i ý giúp ghi nh? (tùy ch?n)

### 3. M?o t?o Flashcard hi?u qu?
Control hi?n th? các m?o h?u ích:
- ??t tiêu ?? rõ ràng, d? tìm ki?m
- M?i th? nên ch?a m?t ý chính, ng?n g?n
- S? d?ng ?nh minh h?a ?? t?ng kh? n?ng ghi nh?
- Thêm tag ?? d? dàng phân lo?i và tìm ki?m
- B?t ??u v?i 10-20 th?, sau ?ó b? sung d?n

## C?u trúc UI

### Layout
```
???????????????????????????????????????????????
? Thông tin b? Flashcard                      ? <- Header (Cyan)
???????????????????????????????????????????????
? Tiêu ?? *                                   ?
? [Input text]                                ?
?                                             ?
? Mô t?                                       ?
? [Input multiline]                           ?
?                                             ?
? Ch? ?? hi?n th? *     Ngôn ng?            ?
? [Dropdown]            [Input text]          ?
???????????????????????????????????????????????
? ?? M?o t?o b? Flashcard hi?u qu?           ? <- Tips Panel (Light Blue)
? • ??t tiêu ?? rõ ràng...                   ?
? • M?i th? nên ch?a...                      ?
? ...                                         ?
???????????????????????????????????????????????
? Các th? Flashcard (1)                      ? <- Cards Header (Blue)
???????????????????????????????????????????????
? ?? Th? #1 ???????????????????? [? Xóa] ?  ?
? ? M?t tr??c *         M?t sau *          ?  ?
? ? [Input]             [Input]            ?  ?
? ? G?i ý (tùy ch?n)                       ?  ?
? ? [Input]                                ?  ?
? ?????????????????????????????????????????  ?
?                                             ?
? [+ Thêm th?]                               ? <- Add Card Button
???????????????????????????????????????????????
? [? H?y]  ?? 1 th?  [? T?o b? Flashcard]   ? <- Footer
???????????????????????????????????????????????
```

## Các class chính

### 1. CreateFlashcardControl
Control chính qu?n lý toàn b? form t?o flashcard.

**Properties:**
- `flashcardCards`: List các th? flashcard
- `cardCounter`: ??m s? l??ng th? ?ã t?o

**Methods:**
- `AddNewCard()`: Thêm th? m?i
- `UpdateCardCount()`: C?p nh?t s? l??ng th?
- `btnCreate_Click()`: X? lý t?o b? flashcard
- `btnCancel_Click()`: H?y và quay l?i
- `NavigateBack()`: ?i?u h??ng v? FlashcardControl

### 2. FlashcardCardControl
Control ??i di?n cho m?t th? flashcard ??n l?.

**Properties:**
- `FrontText`: N?i dung m?t tr??c
- `BackText`: N?i dung m?t sau
- `HintText`: G?i ý

**Events:**
- `OnDeleteClicked`: S? ki?n khi click nút xóa

## Validation

### Các ki?m tra khi t?o:
1. Tiêu ?? không ???c ?? tr?ng
2. Ph?i có ít nh?t 1 th? v?i c? m?t tr??c và m?t sau
3. Các th? không ??y ?? s? b? b? qua khi l?u

### Quy t?c xóa th?:
- Ph?i có ít nh?t 1 th? trong b? flashcard
- Không th? xóa th? cu?i cùng

## Cách s? d?ng

### T? FlashcardControl
```csharp
private void btnCreateFlashcard_Click(object sender, EventArgs e)
{
    var mainPanel = FindControlRecursive(form, "mainContentPanel") as Panel;
    mainPanel.Controls.Clear();
    
    var createControl = new CreateFlashcardControl();
    createControl.Dock = DockStyle.Fill;
    mainPanel.Controls.Add(createControl);
}
```

### T?o flashcard m?i
```csharp
var flashcardSet = new FlashcardSet
{
    OwnerId = AuthHelper.CurrentUser.UserId,
    Title = txtTitle.Text.Trim(),
    Description = txtDescription.Text.Trim(),
    Visibility = cboVisibility.SelectedItem?.ToString() ?? "Public",
    Language = txtLanguage.Text.Trim(),
    CreatedAt = DateTime.Now,
    IsDeleted = false
};

context.FlashcardSets.Add(flashcardSet);
await context.SaveChangesAsync();
```

## Màu s?c (Color Palette)

- **Header Background**: `Color.FromArgb(0, 180, 216)` - Cyan
- **Cards Header**: `Color.FromArgb(33, 150, 243)` - Blue
- **Create Button**: `Color.FromArgb(0, 180, 216)` - Cyan
- **Cancel Button**: `Color.FromArgb(189, 189, 189)` - Gray
- **Delete Button**: `Color.FromArgb(244, 67, 54)` - Red
- **Tips Panel**: `Color.FromArgb(224, 247, 250)` - Light Blue
- **Background**: `Color.FromArgb(248, 249, 250)` - Light Gray

## Database Schema

### FlashcardSets
```sql
CREATE TABLE dbo.FlashcardSets (
    SetId       INT IDENTITY(1,1) PRIMARY KEY,
    OwnerId     INT            NOT NULL,
    Title       NVARCHAR(200)  NOT NULL,
    Description NVARCHAR(MAX)  NULL,
    Visibility  VARCHAR(20)    NOT NULL,
    Language    NVARCHAR(20)   NULL,
    CreatedAt   DATETIME2(7)   NOT NULL,
    IsDeleted   BIT            NOT NULL DEFAULT (0)
);
```

### Flashcards
```sql
CREATE TABLE dbo.Flashcards (
    CardId       INT IDENTITY(1,1) PRIMARY KEY,
    SetId        INT            NOT NULL,
    FrontText    NVARCHAR(MAX)  NOT NULL,
    BackText     NVARCHAR(MAX)  NOT NULL,
    Hint         NVARCHAR(500)  NULL,
    OrderIndex   INT            NOT NULL DEFAULT (0),
    CreatedAt    DATETIME2(7)   NOT NULL
);
```

## Các c?i ti?n có th? thêm

1. **Upload hình ?nh**: Cho phép thêm hình ?nh vào m?t tr??c/sau
2. **Import t? file**: Import flashcards t? CSV, Excel
3. **Templates**: Các m?u flashcard có s?n
4. **Tags**: Thêm/qu?n lý tags cho b? flashcard
5. **Preview**: Xem tr??c flashcard tr??c khi l?u
6. **Drag & Drop**: S?p x?p th? t? các th? b?ng kéo th?
7. **Duplicate**: Nhân b?n th? flashcard
8. **Auto-save**: T? ??ng l?u nháp

## L?u ý k? thu?t

- Control s? d?ng `mainContainer` ?? c?n gi?a n?i dung
- Removed tags section nh? yêu c?u (không s? d?ng TagsText trong form)
- FlowLayoutPanel ???c dùng ?? qu?n lý danh sách th?
- Async/await cho database operations
- Proper error handling v?i try-catch
- Resource disposal v?i using statements

## Screenshots

### Màn hình chính
![Create Flashcard Main](image1.png)
- Header v?i thông tin b? flashcard
- Tips panel v?i các m?o h?u ích
- Danh sách các th? flashcard

### Th? Flashcard
![Flashcard Card](image2.png)
- M?t tr??c và m?t sau song song
- G?i ý ? d??i
- Nút xóa ? góc ph?i

---

**Tác gi?**: Development Team  
**Ngày t?o**: 2025  
**Phiên b?n**: 1.0
